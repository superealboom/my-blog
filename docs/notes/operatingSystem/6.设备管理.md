---
title: 设备管理
createTime: 2025/02/11 21:30:15
permalink: /operatingSystem/no4i8vk8/
---

## 1 设备管理的基本概念

1. 信息交换单位：将设备分为块设备和字符设备
2. 可寻址：是块设备的基本特征
3. 共享设备：必须是可寻址和可随机访问的设备
4. 设备控制器
   1. I/O逻辑 用于对收到的I/O命令进行译码
   2. 所译出的命令通过设备控制器与设备接口对所选设备进行控制
   3. 是一个可编址的设备
   4. 设备控制器可连接多个设备，每个设备地址对应一个设备
5. 按设备的固有属性：将设备分为 独占设备，共享设备，虚拟设备
6. 按设备的信息交换单位：I/O设备可分为字符设备和块设备，打印机 可分为字符设备
7. 存储型的设备，I/O操作是以块为单位传输

## 2 I/O控制方式

1. 4种I/O控制方式：中断控制方式、DMA控制方式、程序I/O方式、通道控制方式
2. 只有程序I/O方式采用轮询方式，其余三种采用中断机构
3. DMA控制方式中的数据传输以数据块为单位，只能用于块设备的传输
4. 通道技术：是一种实现I/O控制的硬件机制
5. 字节多路通道：用于连接中、低速的多台I/O设备，比如打印机
6. I/O通道控制I/O控制器，I/O控制器控制I/O设备，一个通道可以连接多个I/O控制器，一个I/O控制器又可以连接多个同类型的外部设备
7. 通道（I/O处理器）完成通道程序的执行，便产生I/O中断向CPU报告
8. 通道像处理器一样可以执行通道程序，所以需要CPU的干预最少
9. 程序I/O方式，主机和I/O设备不能并行工作
10. 通道是特殊的处理器，它有自己的指令和程序
11. 通道实现了CPU和设备的并行，设备和设备的并行，进程和进程的并行
12. CPU介入程度从小到大 通道，DMA，中断控制，程序I/O方式
13. 在通道控制方式中 数据传输的基本单位由一个数据块变成一组数据块
14. DMA两个技术特征 首先是直接传送，其次是块传送
15. 在DMA控制方式中 数据传送方向、存放数据的内存始址、传送数据的长度 仍然由CPU控制

## 3 I/O软件原理

1. 设备独立性软件
   1. 实现与设备驱动器的统一接口
   2. 设备命令保护分配和释放
   3. 为设备管理和数据传输提供必要的存储空间
   4. 将系 统调用 参数翻译成设备操作命令
2. 设备驱动程序
   1. 是内核的一部分
   2. 与设备相关的中断处理过程、打开关闭读写
   3. 把数据传送从内核传送到硬件和从硬件读取数据
   4. 读取应用程序传送给设备文件的数据和回送应用请求的数据
   5. I/O进程和设备控制器之间的通信程序
   6. 为I/O子系统提供统一的设备访问接口
   7. 进程提出I/O请求时 按照 用户进程、设备独立性软件、设备驱动程序、中断处理程序、硬件
3. I/O系统的层次结构中：用户层软件、设备独立性软件、设备驱动程序、中断处理程序的功能
4. 用于I/O操作的库函数属于用户层软件
5. 设备独立性软件：执行所有设备的公用操作，逻辑设备到物理设备的映射

## 4 I/O核心子系统

1. DCT 设备控制表、COCT 控制器控制表、CHCT 通道控制表、SDT 系统控制表
2. 设备分配算法：先来先服务 优先级高者优先
3. 为了使多个进程同时处理输入输出，最好使用缓冲池技术
4. 单缓冲区：MAX(传送到缓冲区，CPU处理数据) + 传送到用户区
5. 双缓冲区：MAX(传送到缓冲区，CPU处理数据)
6. SPOOLing技术：从输入井中读取信息，用户输出数据先送到输出井、以空间换时间
7. 设备分配程序分配外部设备 先分配设备，再分配控制器，最后分配通道
8. 操作系统在分配设备时，考虑的因素 设备的使用性质，设备分配算法，设备分配的安全性
9. I/O设备在 I/O中断，I/O请求时被唤醒
10. 设备独立性：用户程序（设备驱动程序❎）独立于具体使用的物理设备
11. SPOOLing是假脱机I/O系统
