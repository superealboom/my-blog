---
title: 反射
tags:
  - java
createTime: 2025/02/14 16:00:03
permalink: /article/ongcaivp/
---

> 通过反射访问private成员和方法，既然能访问为什么要private？

**private修饰的方法可以通过反射访问，那么private的意义是什么**

------

首先private能通过反射访问，之前我确实不知道…今天查阅资料，了解了一些反射。先上代码。

```Java
package test;

public class Person {

    private String userName= "Tom";

    private void playGame() {
        System.out.println(userName+ "悄悄玩儿游戏");
    }

}
package test;

import java.lang.reflect.Field;
import java.lang.reflect.Method;

public class Private {


    public static void main(String[] args) throws Exception {

        Person person = new Person();
        Class c = person.getClass();

        //Class c2 = Class.forName("test.Person");
        //Person person2 = (Person)c2.newInstance();

        Method method = c.getDeclaredMethod("playGame");
        method.setAccessible(true);
        method.invoke(person);
      

        Field field = c.getDeclaredField("userName");
        field.setAccessible(true);
        field.set(person,"John");
        method.invoke(person);

    }

}
```

输出结果：

```java
Tom悄悄玩儿游戏
John悄悄玩儿游戏
```

在这里面很关键的一处代码是 **setAccessible(true)**，这行代码取消了java的权限控制检查。

**private的意义是什么？**这个网上似乎都有标准答案了，看过之后，我总结如下：private并不是解决安全问题的，如果想让解决代码的安全问题，请用别的办法。private的意义是OOP（面向对象编程）的封装概念。

举例说明就是，我是个开饭店的，我跟身为顾客的你说，厨房不能进，而且厨房里的刀具厨具都不能动。但是毕竟没有警卫拿着霰弹枪在门口守着，你非得闯进厨房动道具厨具，肯定也是可以的。

![image-20250214164310384](./java.assets/image-20250214164310384.png)
